project:
  name: "pdf-editor"
  language: "Rust"
  framework: "Native (no framework)"

engine: "codex"

engine_options:
  codex:
    dangerous: true

commands:
  build: "cargo build"
  test: "cargo test"
  lint: "cargo clippy -- -D warnings"
  check: "cargo check"

rules:
  - "Write idiomatic Rust with proper error handling using Result and thiserror"
  - "No blocking operations on the UI thread - use async or spawn worker threads"
  - "All GPU rendering must go through the GPU abstraction layer"
  - "Use explicit, typed interfaces between subsystems"
  - "Tile cache reads must never block rendering"
  - "All jobs must have cancellation tokens"
  - "Never introduce code that exposes or logs secrets"
  - "Measurements use PDF coordinate precision - no rounding until display"
  - "Annotations stored as immutable geometry with stable IDs"
  - "No telemetry, no network access, no cloud dependencies"
  - "Cross-platform code must work identically on Windows, macOS, and Linux"

boundaries:
  never_touch:
    - "*.lock"
    - ".git/**"

capabilities:
  browser: false
